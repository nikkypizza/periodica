!function(){const t=!!navigator.userAgent.match(/Trident/g)||!!navigator.userAgent.match(/MSIE/g),e=document.querySelector("svg"),o=e.querySelector("image"),i=o.getAttribute("x"),r=o.getAttribute("y");let a=o.getAttribute("width"),l=o.getAttribute("height"),u=o.getAttribute("width"),n=o.getAttribute("height");const s=document.querySelector("form"),c=s.querySelector(".TextInput"),g=document.querySelector(".RangeInput"),h=document.querySelector("output"),m=document.querySelector(".ResetBtn"),d=document.querySelector(".RandomLinkBtn"),S=["https://pbs.twimg.com/profile_images/633782900077408256/F541mrSs_400x400.jpg","https://www.visitportugal.com/sites/www.visitportugal.com/files/mediateca/23_660x371.jpg","https://cdn.friendsoftheearth.uk/sites/default/files/styles/hero_image/public/media/images/sylwia-bartyzel-135274.jpg?itok=IP4UXGU2"];d.addEventListener("click",function(){c.value=S[Math.floor(Math.random()*S.length)]}),s.addEventListener("submit",function(t){t.preventDefault();var e=new Image;e.src=c.value,localStorage.setItem("url",c.value),e.onload=function(){o.setAttribute("width",this.width),o.setAttribute("height",this.height),u=this.width,n=this.height,localStorage.setItem("width",this.width),localStorage.setItem("height",this.height)},o.setAttributeNS("http://www.w3.org/1999/xlink","href",c.value),o.setAttribute("x",i),o.setAttribute("y",r),c.value="",g.value=g.defaultValue,h.innerHTML="Ð¿Ñ€Ð¸Ð±Ð»Ð¸Ð·Ð¸Ñ‚ÑŒ"});g.addEventListener(t?"change":"input",function(){const t=g.value,e=u*t,i=n*t;o.setAttribute("width",e),o.setAttribute("height",i),h.innerHTML=t<=1?"Ð±ÐµÐ· Ð¿Ñ€Ð¸Ð±Ð»Ð¸Ð¶ÐµÐ½Ð¸Ñ":"Ð¿Ñ€Ð¸Ð±Ð»Ð¸Ð¶ÐµÐ½Ð¸Ðµ "+t+"x",localStorage.setItem("zoom",t),localStorage.setItem("zoomValueStr",h.innerHTML),localStorage.setItem("width",e),localStorage.setItem("height",i)});e.addEventListener("mousedown",function(t){t.preventDefault();let e=t.clientX,u=t.clientY;const n=function(t){const n=e-t.clientX,s=u-t.clientY;e=t.clientX,u=t.clientY;const c=o.getAttribute("x")-n,g=o.getAttribute("y")-s,h=Math.abs(a-o.getAttribute("width")),m=Math.abs(l-o.getAttribute("height"));c<=i&&c>=a-h-(a-i)&&(o.setAttribute("x",c),localStorage.setItem("x",c)),g<=r&&g>=l-m-(l-r)&&(o.setAttribute("y",g),localStorage.setItem("y",g))},s=function(){document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",s)};document.addEventListener("mousemove",n),document.addEventListener("mouseup",s)}),m.addEventListener("click",function(){o.setAttributeNS("http://www.w3.org/1999/xlink","href","./img/placeholder.png"),o.setAttribute("width",a),o.setAttribute("height",l),o.setAttribute("x",i),o.setAttribute("y",r),h.value="Ð¿Ñ€Ð¸Ð±Ð»Ð¸Ð·Ð¸Ñ‚ÑŒ",g.value=1,localStorage.clear(),console.info("Local storage cleared ðŸ‘Œ")}),localStorage.url&&o.setAttributeNS("http://www.w3.org/1999/xlink","href",localStorage.url),localStorage.width&&o.setAttribute("width",localStorage.width),localStorage.height&&o.setAttribute("height",localStorage.height),localStorage.x&&o.setAttribute("x",localStorage.x),localStorage.y&&o.setAttribute("y",localStorage.y),localStorage.zoomValueStr&&(h.innerHTML=localStorage.zoomValueStr),localStorage.zoom&&(g.value=localStorage.zoom,o.setAttribute("width",u*localStorage.zoom),o.setAttribute("height",n*localStorage.zoom))}();